import React, { useState } from 'react'; import { api } from '../api'
export default function Login({ onSuccess }){
  const [email,setEmail]=useState('tomas.ez3010@gmail.com'); const [password,setPassword]=useState('Kiosco-net2025'); const [err,setErr]=useState('')
  const submit=async(e)=>{ e.preventDefault(); setErr(''); try{ const {data}=await api.post('/api/auth/login',{email,password}); localStorage.setItem('token',data.token); localStorage.setItem('user',JSON.stringify(data.user)); onSuccess(data.user) }catch(ex){ setErr(ex.response?.data?.msg||'Error de login') } }
  return(<form onSubmit={submit} className='card p-4 max-w-sm w-full mx-auto mt-6'><h2 className='font-bold text-lg mb-2'>Iniciar sesión</h2>{err&&<p className='text-red-600 text-sm mb-2'>{err}</p>}<label className='text-sm'>Email</label><input className='input mb-2' value={email} onChange={e=>setEmail(e.target.value)}/><label className='text-sm'>Contraseña</label><input className='input mb-3' type='password' value={password} onChange={e=>setPassword(e.target.value)}/><button className='btn btn-primary w-full'>Entrar</button><p className='text-xs mt-2 text-zinc-500'>Admin seed: tomas.ez3010@gmail.com / Kiosco-net2025</p></form>) }
